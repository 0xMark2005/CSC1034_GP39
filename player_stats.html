<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ReignFall | Player Statistics</title>
    <link rel="icon" type="image/x-icon" href="css/assets/images/logo_favicon.png">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/player_stats.css">
</head>
<body>
    <div id="stats-container">
        <h1>Player Statistics</h1>
        
        <div class="stat-group">
            <div class="stat-label">Average score:</div>
            <div class="stat-value" id="stat-score">0</div>
        </div>
        
        <div class="stat-group">
            <div class="stat-label">Battles Fought:</div>
            <div class="stat-value" id="stat-battles">0</div>
        </div>
        
        <div class="stat-group">
            <div class="stat-label">Avg Boss HP Left:</div>
            <div class="stat-value" id="stat-bossHP">—</div>
        </div>
        
        <div class="stat-group">
            <div class="stat-label">Avg Rounds per Battle:</div>
            <div class="stat-value" id="stat-rounds">—</div>
        </div>
    </div>

    <div style="text-align: center; margin-top: 20px;">
        <a href="main_menu.html">
            <button class="back-button">← Back to Menu</button>
        </a>
    </div>

    <!-- JS Script to pull stats -->
    <script type="module">
        import { GameTracker } from './js/modules/game_tracker.js';
    
        document.addEventListener("DOMContentLoaded", () => {
            const stats = GameTracker.getStats();
    
            document.getElementById("stat-score").textContent = stats.score;
            document.getElementById("stat-gold").textContent = stats.gold;
            document.getElementById("stat-allies").textContent = stats.allies;
            document.getElementById("stat-battles").textContent = stats.battles;
            document.getElementById("stat-bossHP").textContent = isNaN(stats.avgBossHP) ? "—" : `${stats.avgBossHP}%`;
            document.getElementById("stat-rounds").textContent = isNaN(stats.avgRounds) ? "—" : stats.avgRounds;
        });
    </script>
</body>
</html>