<!DOCTYPE html>
<html lang="en">
    <head>
        <!--Set the meta tags-->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--Title-->
        <title>ReignFall Main Menu</title>
        <link rel="icon" type="image/x-icon" href="css/assets/images/logo_favicon.png">

        <!--CSS Import-->
        <link rel="stylesheet" href="css/theme.css">
        <link rel="stylesheet" href="css/terminal.css">
        <link rel="stylesheet" href="css/main_menu.css">
        <link rel="stylesheet" href="css/inventory.css">
        <!-- checking for logged in status-->
        <script>
          (function() {
            // Retrieve settings
            var settings = localStorage.getItem("appSettings");
            var currentTextSize = "16px"; // default text size
            var soundEnabled = 0;         // default sound setting
            if (settings) {
              try {
                var parsed = JSON.parse(settings);
                if (parsed.currentTextSize) {
                  currentTextSize = parsed.currentTextSize;
                }
                soundEnabled = parsed.soundEnabled || 0;
              } catch(e) {
                console.error("Error parsing appSettings:", e);
              }
            }
            document.documentElement.style.fontSize = currentTextSize;
        
            // Check login status
            var loggedIn = localStorage.getItem("loggedIn") === "true";
            // Only play sound if enabled or if user isn't logged in
            var shouldPlaySound = (soundEnabled == 1 || !loggedIn);
        
            if (shouldPlaySound) {
              document.addEventListener("DOMContentLoaded", function () {
                document.querySelectorAll('button').forEach(function(btn) {
                  btn.addEventListener('click', function() {
                    new Audio('css/assets/sounds/button-click.mp3').play();
                  });
                });
              });
            }
          })();
        </script>
        
          
              
            
    </head>
    <body>
        <!-- Main Container Div -->
        <div id="main-container">

            <!-- Game Title -->
            <div id="title">
                <h1><img src="css/assets/images/reignfall-logo.png" alt="Logo for Reignfall" title="Logo for Reignfall"width="40%" ></h1>
            </div>

            <!-- Text-Based Menu -->     
            <div id="main-menu">

                <!-- Inventory (Temporarily Here)-->
                <div id="inventory" class="inventory-outer-container">
                   <!-- intentionally left blank  - this is no longer hardcoded. see database table (tools) to add/delete VIEW ON SERVER!-->
                </div>


                <div id="output-terminal">
                  <h2>Main Menu</h2>
                  <ol>
                    <li>New Game</li>
                    <li>Load Game</li>
                    <li>Settings</li>
                    <li>Edit Profile</li>
                    <li>View Player Stats</li>
                    <li>Log Out</li>
                  </ol>
                </div>

                <!-- Get Users input From the Menu -->
           
                <div id="input-terminal">
                    <div class="input-wrapper">
                        <input type="text" id="user-input" placeholder="Type here...">
                    </div>
                </div>
            </div>

        </div>
   
        <!-- JavaScript Import -->
        <script type="module" src="js/menu.js"></script>
          
    </body>
</html>